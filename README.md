# ルーレット形式質問者決定アプリ (Roulette Selector)

[![Firebase Hosting](https://img.shields.io/badge/Firebase-Hosting-FFCA28?logo=firebase)](https://firebase.google.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

勉強会や発表会で、参加者の中からランダムに質問者を選出するためのWebアプリケーションです。
高級感のあるモダンなUIと、スムーズなアニメーションで抽選を盛り上げます。

---

## デモ / スクリーンショット

![Roulette Selector](./candidate_list_bottom_1766661618025.png)
*(※画面は開発中のものです)*

---

## 特徴

- **完全ブラウザ動作** - サーバー不要、データは外部送信されません
- **バニラJS実装** - フレームワーク依存なし、軽量・高速
- **レスポンシブ対応** - PC・タブレット・スマートフォンに最適化
- **アクセシブル** - キーボード操作対応、ARIA対応

---

## 主な機能

### 1. 柔軟な参加者登録
- **CSVインポート**: リストをドラッグ＆ドロップで一括読み込み
- **手動入力**: 画面上のタブから名前と質問を直接入力
- **実行中の追加**: ルーレット画面のサイドパネルからいつでも追加可能

### 2. 登壇者ごとのフィルタリング
- CSVに「宛先（登壇者名）」を含めることで、自動フィルタリング
- タブ切り替えでスムーズに対象者を変更

### 3. 同時当選機能 (1〜3人)
- 一度のルーレットで最大3人まで同時に選出
- 人数に合わせてルーレットの矢印が動的に変化

### 4. 事前除外 & 候補者検索
- CSVでの事前除外フラグに対応
- 検索バーで特定の候補者を即座に検索

### 5. 高度なテキスト表示
- **改行の保持**: CSVや手動入力の改行をそのまま表示
- **長文スクロール**: 長い質問もレイアウトを崩さずスクロール対応

### 6. アクセシビリティ & キーボード操作
| キー | 機能 |
|------|------|
| `Enter` | 当選画面を閉じる |
| `Escape` | モーダルを閉じる |

### 7. プレミアム・レスポンシブデザイン
- ダークモード + ガラスモーフィズム
- PCでは効率的な2カラム、スマホでは見やすい縦並び

---

## クイックスタート

### 1. 参加者を登録
```
CSVファイルをドラッグ＆ドロップ
または「手動入力」タブから直接入力
```

### 2. ルーレットを開始
```
「ルーレットを開始」ボタンをクリック
```

### 3. 設定と抽選
```
- 「Target Presenter」タブで対象グループを選択
- 「当選人数」を設定（1〜3人）
- 「START!」ボタンで抽選開始
```

---

## 入力データの形式 (CSV)

### フォーマット

| 列番号 | 項目名 | 必須 | 説明 |
|:------:|:------:|:----:|:-----|
| 1 | **名前** | ✓ | 参加者の名前 |
| 2 | **質問内容** | ✓ | 質問のテキスト（改行可） |
| 3 | **宛先** | | 質問対象の登壇者名（空欄は `All` 扱い） |
| 4 | **除外コード** | | `x` または `*` で初期除外 |

### CSVサンプル

```csv
田中太郎,プロジェクトの進捗状況を教えてください,山田さん,
鈴木花子,"質問が複数行にわたる場合は
このようにクォートで囲みます",佐藤さん,
山本次郎,この人は最初から除外されます,山田さん,x
高橋三郎,全員向けの質問です,,
```

### 注意事項
- **文字コード**: UTF-8推奨（BOMなし）
- **改行**: クォートで囲むことで改行を含めることができます
- **除外フラグ**: `x`, `*`, `*` のいずれかで除外

---

## 開発・デプロイ

### ローカルでの実行

```bash
# リポジトリをクローン
git clone <repository-url>
cd Roulette

# index.html をブラウザで開くだけで動作
# または、ローカルサーバーを使用
python -m http.server 8080
```

### Firebase Hosting

```bash
# Firebase CLIのインストール
npm install -g firebase-tools

# ログイン
firebase login

# デプロイ
firebase deploy --only hosting
```

### 技術スタック

| カテゴリ | 技術 |
|---------|------|
| フロントエンド | HTML5, CSS3, JavaScript (ES6+) |
| 描画 | Canvas 2D API |
| フォント | Google Fonts (Outfit, Zen Kaku Gothic New) |
| ホスティング | Firebase Hosting |

---

## ドキュメント

詳細なドキュメントは `docs/` フォルダを参照してください：

| ドキュメント | 説明 |
|-------------|------|
| [技術仕様書](./docs/TECHNICAL_SPEC.md) | アーキテクチャ、データモデル、API詳細 |
| [開発者ガイド](./docs/DEVELOPER_GUIDE.md) | 開発環境、カスタマイズ、貢献方法 |

---

## プロジェクト構造

```
Roulette/
├── index.html          # メインHTML
├── script.js           # アプリケーションロジック
├── style.css           # スタイルシート
├── firebase.json       # Firebase設定
├── docs/               # ドキュメント
│   ├── TECHNICAL_SPEC.md
│   └── DEVELOPER_GUIDE.md
└── test_*.csv          # テストデータ
```

---

## セキュリティ

- すべてのデータ処理はブラウザ内で完結
- 外部サーバーへのデータ送信・保存は一切なし
- ページリロードでデータはリセット

---

## ブラウザ対応

| ブラウザ | バージョン | 対応 |
|---------|----------|:----:|
| Chrome | 90+ | ✓ |
| Firefox | 88+ | ✓ |
| Safari | 14+ | ✓ |
| Edge | 90+ | ✓ |
| IE11 | - | ✗ |

---

## ライセンス

MIT License

---

## 貢献

バグ報告や機能リクエストは Issue でお知らせください。
プルリクエストも歓迎します。

詳細は [開発者ガイド](./docs/DEVELOPER_GUIDE.md) を参照してください。

---

© 2024-2025 Roulette Project
